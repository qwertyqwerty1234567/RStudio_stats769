---
title: "Lab5"
author: "jche827"
date: "27/08/2021"
output: html_document
---

# The Data Set

The data source for this lab is a set of 31 CSV files containing 15-minute vehicle counts from January 2013 to September 2020. 
These csv files are the same as all previous lab files.

# Tasks

# Import

## 1. Generate a character vector of file names called file
```{r}
files <- list.files('/course/NZTA/')
head(files)
```

## 2. Write R code that uses readFile() to read 5 of the CSV files and combines them into a single data table
```{r}
# initializing the readFile function
readFile <- function(filename) {
    countsDT <- fread(filename)
    countsDT[, day := substr(startDatetime, 1, 11)][, .(count = sum(count)), .(day, siteRef, class)]
}
```
```{r}
library(data.table)
trafficSeries <- readFile('/course/NZTA/')
dim(trafficSeries)
```


